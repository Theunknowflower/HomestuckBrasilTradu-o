<script src="https://unpkg.com/@supabase/supabase-js"></script>
<script src="config.js"></script>
<script src="auth.js"></script>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Homestuck ‚Äî Tradu√ß√£o de F√£</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header -->
  <header>
    <h1>HOMESTUCK</h1>
    <h2>TRADU√á√ÉO DE F√É</h2>
    <div class="user-menu">
      <span id="username">Convidado</span>
      <button onclick="openModal('login')">Login</button>
      <button id="logoutBtn" style="display:none" onclick="logout()">Sair</button>
    </div>
  </header>

  <!-- Navega√ß√£o -->
  <nav>
    <button class="tab active" onclick="openTab('reader')">LER</button>
    <button class="tab" onclick="openTab('traducao')">TRADU√á√ÉO</button>
    <button class="tab" onclick="openTab('conquistas')">CONQUISTAS</button>
    <button class="tab" onclick="openTab('data')">DATA</button>
    <button class="tab" onclick="openTab('comunidade')">COMUNIDADE</button>
  </nav>

  <!-- Conte√∫do principal -->
  <main>
    <!-- Leitor -->
    <section id="reader" class="card panel" style="display:block">
      <img src="assets/page1.png" alt="P√°gina Homestuck" id="pageImg">
      <div class="controls">
        <button onclick="saveProgress()">üíæ Salvar</button>
        <button onclick="prevPage()">‚óÄ Anterior</button>
        <button onclick="nextPage()">Pr√≥xima ‚ñ∂</button>
      </div>
    </section>

    <!-- Tradu√ß√£o -->
    <section id="traducao" class="card panel">
      <h3>Informa√ß√µes da Tradu√ß√£o</h3>
      <p><b>Equipe:</b> Rafa + Comunidade</p>
      <p><b>Status:</b> Ato 1 ‚Äî em progresso</p>
      <p><b>Licen√ßa:</b> Trabalho de f√£, sem fins lucrativos.</p>
    </section>

    <!-- Conquistas -->
    <section id="conquistas" class="card panel">
      <h3>Conquistas</h3>
      <div id="achievementsList"></div>
    </section>

    <!-- Data -->
    <section id="data" class="card panel">
      <h3>√çndice de p√°ginas</h3>
      <div id="pageIndex"></div>
    </section>

    <!-- Comunidade -->
    <section id="comunidade" class="card panel">
      <h3>Fanarts & F√≥rum </h3>
      <div id="communityForm">
        <input type="text" id="postTitle" placeholder="T√≠tulo" style="width:100%;margin-bottom:8px">
        <textarea id="postContent" placeholder="Descri√ß√£o (opcional)" style="width:100%;height:60px;margin-bottom:8px"></textarea>
        <input type="url" id="postImage" placeholder="URL da imagem (opcional)" style="width:100%;margin-bottom:8px">
        <button class="btn-main" onclick="submitPost()">Publicar</button>
      </div>
      <hr>
      <div id="communityPosts">Carregando posts...</div>
    </section>

    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="info-box">
        <h3>Informa√ß√µes do Projeto</h3>
        <p><b>Equipe:</b> Rafa + Comunidade</p>
        <p><b>Status:</b> Ato 1</p>
        <p><b>Dom√≠nio:</b> em breve</p>
      </div>
      <div class="info-box">
        <h3>Conquistas salvas</h3>
        <div id="savedAchievements">Nenhuma ainda</div>
      </div>
    </aside>
  </main>

  <!-- Coment√°rios -->
  <section class="comments card">
    <h3>Coment√°rios</h3>
    <textarea id="commentBox" placeholder="Escreva seu coment√°rio..."></textarea>
    <button onclick="addComment()">Enviar</button>
    <div id="commentList"></div>
  </section>

  <!-- Modal de Login -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <h2>Login</h2>
      <button onclick="loginWithOTP()"> Link M√°gico (e-mail)</button>
      <button onclick="loginWithPassword()"> Usu√°rio e Senha</button>
      <button onclick="signUpWithPassword()"> Criar Conta</button>
      <br>
      <button onclick="closeModal('login')">Fechar</button>
    </div>
  </div>

  <script src="https://unpkg.com/@supabase/supabase-js"></script>
  <script src="config.js"></script>
  <script src="script.js"></script>
</body>
</html>


